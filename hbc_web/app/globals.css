/* app/globals.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Default (base) theme */
:root {
  color-scheme: dark;

  --color-bg: #020617;
  --color-card: #090e1b;
  --color-border: rgba(255, 255, 255, 0.1);

  --color-text: #f8fafc;
  --color-muted: #cbd5e1;

  --color-accent: #ef4444;
  --color-success: #22c55e;

  --color-link: #6366f1;
  --color-link-surface: rgba(99, 102, 241, 0.15);
  --color-link-surface-hover: rgba(99, 102, 241, 0.25);

  /* used for anchor offset + consistent spacing */
  --hbc-header-h: 112px;
}


/* HBC theme override */
:root[data-theme="hbc"] {
  color-scheme: dark;
  
  --color-bg-gradient:
    linear-gradient(120deg, rgba(255, 255, 255, 0.05) 0%, rgba(255, 255, 255, 0.00) 38%),
    linear-gradient(240deg, rgba(122, 162, 247, 0.07) 0%, rgba(122, 162, 247, 0.00) 44%),
    linear-gradient(200deg, rgba(99, 102, 241, 0.06) 0%, rgba(99, 102, 241, 0.00) 48%),
    linear-gradient(180deg, #141c34 0%, #0f1630 55%, #070b1d 100%);

  --color-bg: var(--color-bg-gradient);
  --color-card: #192244;
  --color-border: #24305a;

  --color-text: #e8f0f6;
  --color-muted: #a7b3c3;

  --color-accent: #2DD3B6;
  --color-success: #89a64e;

  --color-link: #7aa2f7;
  --color-link-surface: var(--color-bg);
  --color-link-surface-hover: var(--color-card);

  /* Background gradient (linear-only): keep within bg -> darker range */


  --hbc-header-h: 112px;
}

* {
  box-sizing: border-box;
}

html,
body {
  margin: 0;
  font-family: var(--font-dm-sans), system-ui, -apple-system, Segoe UI, sans-serif;
  color: var(--color-text);
  background: var(--color-bg);
  background: var(--color-bg-gradient, var(--color-bg));
}

/* Keep anchor jumps from hiding behind the sticky header */
html {
  scroll-padding-top: var(--hbc-header-h);
  font-size: 17px;
}

/*
  Sticky headers fail when you’re not scrolling the document (common in dashboards).
  This makes ONE explicit scroll container (the one in layout.tsx) and keeps sticky reliable.
*/
#app-scroll {
  height: 100dvh;
  overflow-y: auto;
  overflow-x: hidden;
}

a,
button,
input,
textarea,
select {
  font: inherit;
}

/* HBC TITLE */
.hbc-title {
  font-size: clamp(2.6rem, 5vw, 6rem);
  line-height: 1.05;
  letter-spacing: -0.02em;
  font-weight: 100;
  text-wrap: balance;

  /* prevent “Analyt- ical” */
  hyphens: none;
  overflow-wrap: normal;
  word-break: normal;
}

/* AG Grid theme overrides (Quartz dark) */
.hbc-ag-grid.ag-theme-quartz-dark {
  /* Base surfaces */
  --ag-background-color: var(--color-card);
  --ag-foreground-color: var(--color-text);
  --ag-secondary-foreground-color: var(--color-muted);
  --ag-header-background-color: var(--color-card);
  --ag-border-color: var(--color-border);

  /* Accent driving “active” UI bits */
  --ag-active-color: var(--color-accent);

  /* Hover */
  --ag-row-hover-color: color-mix(in oklab, var(--color-text) 4%, transparent);

  /* Selection (row) */
  --ag-selected-row-background-color: color-mix(in oklab, var(--color-accent) 40%, transparent);

  /* Range selection (drag / fill) */
  --ag-range-selection-border-color: var(--color-accent);
  --ag-range-selection-border-style: solid;

  --ag-range-selection-background-color: color-mix(in oklab, var(--color-accent) 12%, transparent);
  --ag-range-selection-background-color-2: color-mix(in oklab, var(--color-accent) 18%, transparent);
  --ag-range-selection-background-color-3: color-mix(in oklab, var(--color-accent) 24%, transparent);
  --ag-range-selection-background-color-4: color-mix(in oklab, var(--color-accent) 30%, transparent);

  /* Optional: quick “flash” highlight (copy/paste) */
  --ag-range-selection-highlight-color: color-mix(in oklab, var(--color-accent) 30%, transparent);
}

.hbc-ag-grid.ag-theme-quartz-dark .ag-cell-focus:not(.ag-cell-range-selected) {
  outline: 2px solid var(--color-accent);
  outline-offset: -2px;
  background: color-mix(in oklab, var(--color-accent) 18%, transparent);
}

/* Dataset sidebar responsive visibility */
.hbc-dataset-sidebar-static {
  display: none;
}

.hbc-dataset-sidebar-hamburger {
  display: block;
}

@media (min-width: 1920px) {
  .hbc-title {
    font-size: clamp(4.7rem, 1vw, 5rem);
  }

  .hbc-dataset-sidebar-static {
    display: block;
  }

  .hbc-dataset-sidebar-hamburger {
    display: none;
  }

  :root[data-theme="hbc"] {
    --hbc-header-h: 140px;
  }
}
